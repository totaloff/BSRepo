/*! WooCommerce Mix and Match Products 1.2.5 2017-08-17 07:49 */
var wc_mnm_scripts={};jQuery(document).ready(function(a){function b(a){var b=wc_mnm_params.currency_format_decimal_sep,c=wc_mnm_params.currency_position,d=wc_mnm_params.currency_symbol,e=wc_mnm_params.currency_format_trim_zeros,f=wc_mnm_params.currency_format_num_decimals;if("yes"===e&&f>0){for(var g=0;g<f;g++)b+="0";a=a.replace(b,"")}var h="";return"left"===c?h='<span class="amount">'+d+a+"</span>":"right"===c?h='<span class="amount">'+a+d+"</span>":"left_space"===c?h='<span class="amount">'+d+"&nbsp;"+a+"</span>":"right_space"===c&&(h='<span class="amount">'+a+"&nbsp;"+d+"</span>"),h}function c(a){var b=wc_mnm_params.currency_format_num_decimals,c=wc_mnm_params.currency_format_decimal_sep,d=wc_mnm_params.currency_format_thousand_sep,e=a,f=isNaN(b=Math.abs(b))?2:b,g=void 0==c?",":c,h=void 0==d?".":d,i=e<0?"-":"",j=parseInt(e=Math.abs(+e||0).toFixed(f))+"",k=(k=j.length)>3?k%3:0;return i+(k?j.substr(0,k)+h:"")+j.substr(k).replace(/(\d{3})(?=\d)/g,"$1"+h)+(f?g+Math.abs(e-j).toFixed(f).slice(2):"")}a.fn.wc_mnm_form=function(){if(!a(this).hasClass("mnm_form"))return!0;var d=a(this),e=d.find(".mnm_cart"),f=e.data("container_id");"undefined"!=typeof wc_mnm_scripts[f]&&d.find("*").off(),wc_mnm_scripts[f]={$mnm_form:d,$mnm_items:d.find(".mnm_item"),$mnm_cart:d.find(".mnm_cart"),$mnm_price:d.find(".mnm_price"),$mnm_button:e.find(".mnm_add_to_cart_button"),$mnm_message:e.find(".mnm_message"),$mnm_message_content:e.find(".mnm_message ul.mnm_message_content"),min_container_size:e.data("min_container_size"),max_container_size:e.data("max_container_size"),validation_messages:[],status_messages:[],init:function(){this.bind_event_handlers();var a=this.$mnm_cart.find("#product-addons-total");this.$mnm_price.after(a),0===this.$mnm_message_content.length&&(this.$mnm_message.length>0&&this.$mnm_message.remove(),this.$mnm_price.after('<div class="mnm_message"><ul class="mnm_message_content woocommerce-info"></ul></div>'),this.$mnm_message=this.$mnm_cart.find(".mnm_message"),this.$mnm_message_content=this.$mnm_message.find(".mnm_message_content")),this.$mnm_form.trigger("wc-mnm-initialized",[this]),this.update()},bind_event_handlers:function(){var a=this;a.$mnm_items.on("input change","input.qty",function(b){a.update(b.type)})},get_min_container_size:function(){return"undefined"!=typeof this.min_container_size&&""!==this.min_container_size&&parseInt(this.min_container_size)},get_max_container_size:function(){return"undefined"!=typeof this.max_container_size&&""!==this.max_container_size&&parseInt(this.max_container_size)},selected_quantity_message:function(a){var b=1==a?wc_mnm_params.i18n_qty_message_single:wc_mnm_params.i18n_qty_message;return b.replace("%s",a)},add_message:function(a,b){"error"===b?this.validation_messages.push(a.toString()):this.status_messages.push(a.toString())},get_messages:function(b){var c=[];return c="all"===b?a.merge(this.status_messages,this.validation_messages):"error"===b?this.validation_messages:this.status_messages},passes_validation:function(){return!(this.validation_messages.length>0)},has_status_messages:function(){return this.status_messages.length>0},reset_messages:function(){this.validation_messages=[],this.status_messages=[]},update:function(d){var e=this,f=this.get_min_container_size(),g=this.get_max_container_size(),h=this.$mnm_cart.data("per_product_pricing"),i=0,j=parseFloat(this.$mnm_cart.data("base_price")),k=parseFloat(this.$mnm_cart.data("base_regular_price")),l="",m="";if(this.reset_messages(),this.$mnm_items.each(function(){var b=0;if($input=a(this).find("input.qty"),$input.length>0){var c=parseFloat($input.attr("min")),e=parseFloat($input.attr("max"));g>0&&(e=Math.min(e,parseFloat(g))),("change"===d&&c>=0&&parseFloat($input.val())<c||isNaN(parseFloat($input.val())))&&$input.val(c),"change"===d&&e>0&&parseFloat($input.val())>e&&$input.val(e),b=parseInt($input.val()),i+=b,1==h&&(j+=parseFloat(a(this).data("price"))*b,k+=parseFloat(a(this).data("regular_price"))*b)}}),1==h){var n=this.$mnm_form.find(".mnm_cart #product-addons-total");if(n.length>0&&(n.data("price",j),this.$mnm_cart.trigger("woocommerce-product-addons-update")),i>0)if(0==j)l='<p class="price"><span class="total"></span>'+wc_mnm_params.i18n_free+"</p>";else{var o=b(c(j)),p=b(c(k));l=k>j?'<p class="price"><del>'+p+"</del> <ins>"+o+"</ins></p>":'<p class="price">'+o+"</p>"}}if(f===g&&i!==f?(m=1==i?wc_mnm_params.i18n_qty_error_single:wc_mnm_params.i18n_qty_error,m=m.replace("%s",f)):g>0&&f>0&&(i<f||i>g)?m=wc_mnm_params.i18n_min_max_qty_error.replace("%max",g).replace("%min",f):f>0&&i<f?(m=f>1?wc_mnm_params.i18n_min_qty_error:wc_mnm_params.i18n_min_qty_error_singular,m=m.replace("%min",f)):g>0&&i>g&&(m=g>1?wc_mnm_params.i18n_max_qty_error:wc_mnm_params.i18n_max_qty_error_singular,m=m.replace("%max",g)),""!=m){var q=this.selected_quantity_message(i);this.add_message(m.replace("%v",q),"error")}if(this.$mnm_form.trigger("wc-mnm-validation",[e,i]),this.passes_validation()?(g===!1&&this.add_message(this.selected_quantity_message(i)),this.$mnm_button.removeAttr("disabled").removeClass("disabled"),this.$mnm_form.trigger("wc-mnm-display-add-to-cart-button",[e])):(this.$mnm_button.attr("disabled",!0).addClass("disabled"),this.$mnm_form.trigger("wc-mnm-hide-add-to-cart-button",[e])),this.has_status_messages()||!1===this.passes_validation()){var r=a("<ul/>"),s=this.get_messages("all");s.length>0&&a.each(s,function(b,c){r.append(a("<li/>").html(c))}),this.$mnm_message_content.html(r.html()),this.$mnm_message.slideDown(200)}else this.$mnm_message.slideUp(200);""!==l?(this.$mnm_price.html(l),this.$mnm_price.slideDown(200)):this.$mnm_price.slideUp(200),this.$mnm_form.trigger("wc-mnm-price-updated",[e,i,this.$mnm_price])}},wc_mnm_scripts[f].init()},a("body").on("quick-view-displayed",function(){a(".mnm_form").each(function(){a(this).wc_mnm_form()})}),a(".mnm_form").each(function(){a(this).wc_mnm_form()})});